<section id="welcome">
  <div class="container full-height">
    <div class="row welcomeRow">
      <div class="col-sm-6 text-center">
        <img src="assets/images/myCircle_phone.png"/>
      </div>
      <div class="col-sm-5 col-sm-offset-1 text-center">
        <div class="welcomeImage">
          <img class="welcomeImage-image" src="assets/images/myCircle_logo.png"/>
        </div>
        <div class="welcomeForm">
          <div>
            <h4 class="welcomeForm-title">Zarejestruj się,<br> aby przeglądać i tworzyć kręgi.</h4>
            <div class="welcomeButtons" ng-hide="showForm">
              <div>
                <label class="btn btn-primary" ng-model="showForm" uib-btn-radio="'logIn'" uncheckable>Logowanie</label>
                <label class="btn btn-success" ng-model="showForm" uib-btn-radio="'register'"
                       uncheckable>Rejestracja</label>
              </div>
            </div>
          </div>
          <div class="loginForm" ng-show="showForm==='logIn'">
            <form class="form text-left" name="form" ng-submit="vm.login(form)" novalidate>

              <div class="form-group">
                <label class="text-left">Login</label>

                <input type="text" name="username" class="form-control" ng-model="vm.user.usernameOrEmail" required>
              </div>

              <div class="form-group">
                <label>Hasło</label>

                <input type="password" name="password" class="form-control" ng-model="vm.user.password" required>
              </div>

              <div class="form-group has-error">
                <p class="help-block"
                   ng-show="form.email.$error.required && form.password.$error.required && vm.submitted">
                  Proszę podaj poprawny email.
                </p>

                <p class="help-block">{{ vm.errors.login }}</p>
              </div>

              <div>

                <button type="submit" class="btn btn-primary" ng-model="showForm">Zaloguj
                </button>
                <a href class="margin-left-10" ng-model="showForm" uib-btn-radio="'register'">
                  <small>...lub załóż nowe konto</small>
                </a>

              </div>

            </form>
          </div>
          <div class="registerForm" ng-show="showForm==='register'">
            <form class="form text-left" name="registerForm" ng-submit="vm.register(registerForm)" novalidate>

              <div class="form-group" ng-class="{ 'has-success': registerForm.name.$valid && vm.submitted,
                                            'has-error': registerForm.name.$invalid && vm.submitted }">
                <label>Login</label>

                <input type="text" name="name" class="form-control" ng-model="vm.user.username"
                       required/>
                <p class="help-block" ng-show="registerForm.name.$error.required && vm.submitted">
                  Login jest wymagany
                </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': registerForm.email.$valid && vm.submitted,
                                            'has-error': registerForm.email.$invalid && vm.submitted }">
                <label>Email</label>

                <input type="email" name="email" class="form-control" ng-model="vm.user.email"
                       required
                       mongoose-error/>
                <p class="help-block" ng-show="registerForm.email.$error.email && vm.submitted">
                  Email nei jest poprawny.
                </p>
                <p class="help-block" ng-show="registerForm.email.$error.required && vm.submitted">
                  Jaki jest twój adres email?
                </p>
                <p class="help-block" ng-show="registerForm.email.$error.mongoose">
                  {{ vm.errors.email }}
                </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': form.password.$valid && vm.submitted,
                                            'has-error': form.password.$invalid && vm.submitted }">
                <label>Hasło</label>

                <input type="password" name="password" class="form-control" ng-model="vm.user.password"
                       ng-minlength="3"
                       required
                       mongoose-error/>
                <p class="help-block"
                   ng-show="(registerForm.password.$error.minlength || registerForm.password.$error.required) && vm.submitted">
                  Hasło musi posiadać minimum 3 znaki.
                </p>
                <p class="help-block" ng-show="registerForm.password.$error.mongoose">
                  {{ vm.errors.password }}
                </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': registerForm.confirmPassword.$valid && vm.submitted,
                                            'has-error': registerForm.confirmPassword.$invalid && vm.submitted }">
                <label>Potwierdź hasło</label>
                <input type="password" name="confirmPassword" class="form-control" ng-model="vm.user.confirmPassword"
                       match="vm.user.password"
                       ng-minlength="3" required/>
                <p class="help-block"
                   ng-show="registerForm.confirmPassword.$error.match && vm.submitted">
                  Hasła muszą się powielać
                </p>
              </div>

              <div>
                <button type="submit" class="btn btn-primary" ng-model="showForm">Zarejestruj
                </button>
                <a href class="margin-left-10" ng-model="showForm" uib-btn-radio="'logIn'">
                  <small>...lub przejdź do logowania</small>
                </a>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>
